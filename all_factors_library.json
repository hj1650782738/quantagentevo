{
  "metadata": {
    "created_at": "2026-01-08T21:03:59.729617",
    "last_updated": "2026-01-15T20:09:22.315646",
    "total_factors": 17,
    "version": "1.0",
    "note": "Cleaned: removed 662 factors before line 15604"
  },
  "factors": {
    "0a7e73fd9b4c7d2f": {
      "factor_id": "0a7e73fd9b4c7d2f",
      "factor_name": "Smoothed_Conviction_Momentum_10D",
      "factor_expression": "TS_CORR($return, EMA(DELAY($return, 3) * ($volume / (TS_MEAN($volume, 10) + 1e-8)), 5), 10)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($return, EMA(DELAY($return, 3) * ($volume / (TS_MEAN($volume, 10) + 1e-8)), 5), 10)\" # Your output factor expression will be filled in here\n    name = \"Smoothed_Conviction_Momentum_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A refined version of the conviction lead-lag factor that applies an Exponential Moving Average (EMA) to the volume-scaled lagged return signal to reduce noise before calculating the 10-day correlation with current returns.",
      "experiment_id": "unknown",
      "round_number": 2,
      "hypothesis": "Hypothesis: The 10-day rolling correlation between current returns and a 3-day lagged, volume-scaled return signal captures high-conviction price discovery trends more effectively than longer-lag models.\n                Concise Observation: The previous 5-day lag and 20-day window were too slow to capture decaying lead-lag effects; shortening the lag to 3 days and using a volume ratio instead of a Z-score improved the Information Ratio and signal responsiveness.\n                Concise Justification: Shorter lags capture more immediate information diffusion, while scaling lagged returns by the volume ratio (current volume / mean volume) emphasizes price moves that occurred with high relative conviction, filtering out noise from low-liquidity sessions.\n                Concise Knowledge: If the lag period is reduced to 3 days and the lagged signal is scaled by the ratio of volume to its 10-day moving average, then the resulting correlation identifies short-term momentum backed by liquidity, which is more predictive of immediate price persistence.\n                concise Specification: Calculate the factor as the 10-day Pearson correlation between the daily return ($return) and a 'Conviction Signal', where the Conviction Signal is the 3-day lagged return multiplied by ($volume / TS_MEAN($volume, 10)).\n                ",
      "initial_direction": "Cross-Asset Lead-Lag Momentum: Construct a lead-lag network using rolling Granger causality between equity sector ETFs and their corresponding upstream commodity futures to capture macro-driven momentum spillover, testing if price trends in raw materials predict subsequent directional shifts in equity risk premia.",
      "user_initial_direction": "Cross-Asset Lead-Lag Momentum: Construct a lead-lag network using rolling Granger causality between equity sector ETFs and their corresponding upstream commodity futures to capture macro-driven momentum spillover, testing if price trends in raw materials predict subsequent directional shifts in equity risk premia.",
      "planning_direction": "Cross-Asset Lead-Lag Momentum: Construct a lead-lag network using rolling Granger causality between equity sector ETFs and their corresponding upstream commodity futures to capture macro-driven momentum spillover, testing if price trends in raw materials predict subsequent directional shifts in equity risk premia.",
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064292131116171,
        "ICIR": 0.0471904782508434,
        "RankIC": 0.022961676702149,
        "RankICIR": 0.1745311944608633,
        "annualized_return": 0.0713249472038566,
        "information_ratio": 1.1379839206679387,
        "max_drawdown": -0.0918045186564081
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T18:54:09.625003",
      "updated_at": "2026-01-15T18:54:09.625009"
    },
    "67b61f8fdaf66e7f": {
      "factor_id": "67b61f8fdaf66e7f",
      "factor_name": "Ranked_Conviction_Discovery_10D",
      "factor_expression": "TS_CORR(RANK($return), RANK(DELAY($return, 3) * ($volume / (TS_MEAN($volume, 10) + 1e-8))), 10)",
      "factor_implementation_code": "",
      "factor_description": "This factor measures the cross-sectional rank correlation between current returns and the 3-day lagged conviction signal. Using RANK ensures the factor is robust to outliers in return and volume spikes while capturing the lead-lag discovery trend.",
      "experiment_id": "unknown",
      "round_number": 2,
      "hypothesis": "Hypothesis: The 10-day rolling correlation between current returns and a 3-day lagged, volume-scaled return signal captures high-conviction price discovery trends more effectively than longer-lag models.\n                Concise Observation: The previous 5-day lag and 20-day window were too slow to capture decaying lead-lag effects; shortening the lag to 3 days and using a volume ratio instead of a Z-score improved the Information Ratio and signal responsiveness.\n                Concise Justification: Shorter lags capture more immediate information diffusion, while scaling lagged returns by the volume ratio (current volume / mean volume) emphasizes price moves that occurred with high relative conviction, filtering out noise from low-liquidity sessions.\n                Concise Knowledge: If the lag period is reduced to 3 days and the lagged signal is scaled by the ratio of volume to its 10-day moving average, then the resulting correlation identifies short-term momentum backed by liquidity, which is more predictive of immediate price persistence.\n                concise Specification: Calculate the factor as the 10-day Pearson correlation between the daily return ($return) and a 'Conviction Signal', where the Conviction Signal is the 3-day lagged return multiplied by ($volume / TS_MEAN($volume, 10)).\n                ",
      "initial_direction": "Cross-Asset Lead-Lag Momentum: Construct a lead-lag network using rolling Granger causality between equity sector ETFs and their corresponding upstream commodity futures to capture macro-driven momentum spillover, testing if price trends in raw materials predict subsequent directional shifts in equity risk premia.",
      "user_initial_direction": "Cross-Asset Lead-Lag Momentum: Construct a lead-lag network using rolling Granger causality between equity sector ETFs and their corresponding upstream commodity futures to capture macro-driven momentum spillover, testing if price trends in raw materials predict subsequent directional shifts in equity risk premia.",
      "planning_direction": "Cross-Asset Lead-Lag Momentum: Construct a lead-lag network using rolling Granger causality between equity sector ETFs and their corresponding upstream commodity futures to capture macro-driven momentum spillover, testing if price trends in raw materials predict subsequent directional shifts in equity risk premia.",
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064292131116171,
        "ICIR": 0.0471904782508434,
        "RankIC": 0.022961676702149,
        "RankICIR": 0.1745311944608633,
        "annualized_return": 0.0713249472038566,
        "information_ratio": 1.1379839206679387,
        "max_drawdown": -0.0918045186564081
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T18:54:09.644660",
      "updated_at": "2026-01-15T18:54:09.644666"
    },
    "b46eb9da2f77d837": {
      "factor_id": "b46eb9da2f77d837",
      "factor_name": "Price_Volume_Exhaustion_5D",
      "factor_expression": "TS_MEAN(($high - $low) / ($volume + 1e-8), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(($high - $low) / ($volume + 1e-8), 5)\" # Your output factor expression will be filled in here\n    name = \"Price_Volume_Exhaustion_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures intra-day price-volume exhaustion by calculating the 5-day rolling average of the high-low range relative to trading volume. High values indicate price movements with low liquidity support, suggesting a potential mean-reversion or reversal.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: The daily price reversal strength is positively correlated with the degree of intra-day price-volume exhaustion, specifically when the ratio of the high-low price range to the trading volume reaches a local maximum, indicating a potential liquidity-driven turning point.\n                Concise Observation: In daily price-volume data, extreme price movements accompanied by relatively low volume often precede a correction, as the price lacks the 'conviction' or 'liquidity support' found in high-volume trends.\n                Concise Justification: Based on market microstructure theory, price-volume divergence (high volatility on low volume) signals a temporary imbalance where market makers or liquidity providers may have withdrawn, leading to an overextended price that is likely to revert to its mean.\n                Concise Knowledge: If a stock exhibits a significantly high price range relative to its trading volume over a fixed window, it suggests a lack of liquidity depth to support the price movement, increasing the probability of a mean-reversion event in subsequent periods.\n                concise Specification: The factor is defined as the 5-day rolling average of the daily range (High minus Low) divided by the daily Volume, where a higher value predicts a negative return for the next period due to the exhaustion of the current price trend.\n                ",
      "initial_direction": "结合订单流不平衡（Order Flow Imbalance）的微观结构均值回归：在分钟级频率下，通过分析买卖盘挂单深度与成交意向的背离，识别价格偏离价值中枢时的流动性枯竭点，在买卖压力失衡达到阈值时介入反向交易。",
      "user_initial_direction": "结合订单流不平衡（Order Flow Imbalance）的微观结构均值回归：在分钟级频率下，通过分析买卖盘挂单深度与成交意向的背离，识别价格偏离价值中枢时的流动性枯竭点，在买卖压力失衡达到阈值时介入反向交易。",
      "planning_direction": "结合订单流不平衡（Order Flow Imbalance）的微观结构均值回归：在分钟级频率下，通过分析买卖盘挂单深度与成交意向的背离，识别价格偏离价值中枢时的流动性枯竭点，在买卖压力失衡达到阈值时介入反向交易。",
      "evolution_phase": "original",
      "trajectory_id": "",
      "parent_trajectory_ids": [],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0005241961676058,
        "ICIR": 0.0038298779693881,
        "RankIC": 0.0139387733453035,
        "RankICIR": 0.1001325840594181,
        "annualized_return": -0.0043308748532143,
        "information_ratio": -0.0546152236058097,
        "max_drawdown": -0.2155202314430089
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T19:53:28.343173",
      "updated_at": "2026-01-15T19:53:28.343180"
    },
    "5d81b7886184ec03": {
      "factor_id": "5d81b7886184ec03",
      "factor_name": "Relative_Exhaustion_ZScore_10D",
      "factor_expression": "TS_ZSCORE(($high - $low) / ($volume + 1e-8), 10)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(($volume > 0) ? (($high - $low) / $volume) : (0), 10)\" # Your output factor expression will be filled in here\n    name = \"Relative_Exhaustion_ZScore_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies extreme price-volume divergence by calculating the Z-score of the range-to-volume ratio over a 10-day window. It captures local maxima in price exhaustion relative to recent history, signaling a higher probability of reversal.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: The daily price reversal strength is positively correlated with the degree of intra-day price-volume exhaustion, specifically when the ratio of the high-low price range to the trading volume reaches a local maximum, indicating a potential liquidity-driven turning point.\n                Concise Observation: In daily price-volume data, extreme price movements accompanied by relatively low volume often precede a correction, as the price lacks the 'conviction' or 'liquidity support' found in high-volume trends.\n                Concise Justification: Based on market microstructure theory, price-volume divergence (high volatility on low volume) signals a temporary imbalance where market makers or liquidity providers may have withdrawn, leading to an overextended price that is likely to revert to its mean.\n                Concise Knowledge: If a stock exhibits a significantly high price range relative to its trading volume over a fixed window, it suggests a lack of liquidity depth to support the price movement, increasing the probability of a mean-reversion event in subsequent periods.\n                concise Specification: The factor is defined as the 5-day rolling average of the daily range (High minus Low) divided by the daily Volume, where a higher value predicts a negative return for the next period due to the exhaustion of the current price trend.\n                ",
      "initial_direction": "结合订单流不平衡（Order Flow Imbalance）的微观结构均值回归：在分钟级频率下，通过分析买卖盘挂单深度与成交意向的背离，识别价格偏离价值中枢时的流动性枯竭点，在买卖压力失衡达到阈值时介入反向交易。",
      "user_initial_direction": "结合订单流不平衡（Order Flow Imbalance）的微观结构均值回归：在分钟级频率下，通过分析买卖盘挂单深度与成交意向的背离，识别价格偏离价值中枢时的流动性枯竭点，在买卖压力失衡达到阈值时介入反向交易。",
      "planning_direction": "结合订单流不平衡（Order Flow Imbalance）的微观结构均值回归：在分钟级频率下，通过分析买卖盘挂单深度与成交意向的背离，识别价格偏离价值中枢时的流动性枯竭点，在买卖压力失衡达到阈值时介入反向交易。",
      "evolution_phase": "original",
      "trajectory_id": "",
      "parent_trajectory_ids": [],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0005241961676058,
        "ICIR": 0.0038298779693881,
        "RankIC": 0.0139387733453035,
        "RankICIR": 0.1001325840594181,
        "annualized_return": -0.0043308748532143,
        "information_ratio": -0.0546152236058097,
        "max_drawdown": -0.2155202314430089
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T19:53:28.356681",
      "updated_at": "2026-01-15T19:53:28.356687"
    },
    "915269598344bf8f": {
      "factor_id": "915269598344bf8f",
      "factor_name": "Exhaustion_Rank_CrossSectional",
      "factor_expression": "RANK(($high - $low) / ($volume + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($high - $low) / ($volume + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Exhaustion_Rank_CrossSectional\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor ranks the intensity of price-volume exhaustion across the market. By comparing the current day's range-to-volume ratio against other stocks, it identifies assets most likely to undergo liquidity-driven corrections.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: The daily price reversal strength is positively correlated with the degree of intra-day price-volume exhaustion, specifically when the ratio of the high-low price range to the trading volume reaches a local maximum, indicating a potential liquidity-driven turning point.\n                Concise Observation: In daily price-volume data, extreme price movements accompanied by relatively low volume often precede a correction, as the price lacks the 'conviction' or 'liquidity support' found in high-volume trends.\n                Concise Justification: Based on market microstructure theory, price-volume divergence (high volatility on low volume) signals a temporary imbalance where market makers or liquidity providers may have withdrawn, leading to an overextended price that is likely to revert to its mean.\n                Concise Knowledge: If a stock exhibits a significantly high price range relative to its trading volume over a fixed window, it suggests a lack of liquidity depth to support the price movement, increasing the probability of a mean-reversion event in subsequent periods.\n                concise Specification: The factor is defined as the 5-day rolling average of the daily range (High minus Low) divided by the daily Volume, where a higher value predicts a negative return for the next period due to the exhaustion of the current price trend.\n                ",
      "initial_direction": "结合订单流不平衡（Order Flow Imbalance）的微观结构均值回归：在分钟级频率下，通过分析买卖盘挂单深度与成交意向的背离，识别价格偏离价值中枢时的流动性枯竭点，在买卖压力失衡达到阈值时介入反向交易。",
      "user_initial_direction": "结合订单流不平衡（Order Flow Imbalance）的微观结构均值回归：在分钟级频率下，通过分析买卖盘挂单深度与成交意向的背离，识别价格偏离价值中枢时的流动性枯竭点，在买卖压力失衡达到阈值时介入反向交易。",
      "planning_direction": "结合订单流不平衡（Order Flow Imbalance）的微观结构均值回归：在分钟级频率下，通过分析买卖盘挂单深度与成交意向的背离，识别价格偏离价值中枢时的流动性枯竭点，在买卖压力失衡达到阈值时介入反向交易。",
      "evolution_phase": "original",
      "trajectory_id": "",
      "parent_trajectory_ids": [],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0005241961676058,
        "ICIR": 0.0038298779693881,
        "RankIC": 0.0139387733453035,
        "RankICIR": 0.1001325840594181,
        "annualized_return": -0.0043308748532143,
        "information_ratio": -0.0546152236058097,
        "max_drawdown": -0.2155202314430089
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T19:53:28.366184",
      "updated_at": "2026-01-15T19:53:28.366189"
    },
    "673a4e562722ed53": {
      "factor_id": "673a4e562722ed53",
      "factor_name": "Volatility_Squeeze_Mean_Reversion_20D",
      "factor_expression": "($close - TS_MEAN($close, 20)) / (TS_STD($return, 20) + 1e-8) * (TS_STD($return, 20) / (TS_STD($return, 5) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"($close - TS_MEAN($close, 20)) / (TS_STD($return, 20) + 1e-8) * (TS_STD($return, 20) / (TS_STD($return, 5) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Volatility_Squeeze_Mean_Reversion_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies mean-reversion opportunities by calculating the price deviation from its 20-day average, normalized by the 20-day return volatility. It specifically weights this deviation by the inverse ratio of short-term (5-day) to long-term (20-day) volatility to highlight 'squeeze' states where volatility is lower than its historical average.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: A factor calculated as the z-score of the current price relative to its 20-day moving average, normalized by a 20-day rolling standard deviation of returns, will exhibit stronger mean-reversion properties when the current 5-day volatility is lower than its 20-day average volatility.\n                Concise Observation: Fixed-width technical indicators like standard Bollinger Bands fail to account for the clustering and autocorrelation of volatility, often leading to false signals during regime shifts from high to low volatility.\n                Concise Justification: Volatility clustering suggests that low volatility periods (squeezes) are often followed by sharp mean-reverting or trend-initiating moves; by normalizing price deviation by dynamic volatility, we isolate 'true' statistical outliers relative to current risk levels.\n                Concise Knowledge: If asset prices deviate significantly from their moving average during periods of volatility compression, then the probability of a mean-reverting price correction increases as the market transitions out of the low-volatility state.\n                concise Specification: Define the factor as (Close - MA(Close, 20)) / Std(Return, 20), specifically filtered or weighted by the ratio of Short_Vol(5-day) to Long_Vol(20-day) to capture the 'squeeze' effect.\n                ",
      "initial_direction": "基于波动率自相关的动态置信区间均值回归：利用GARCH模型预测短期波动率，将传统的固定标准差布林带替换为动态波动率调整带，在市场进入低波动挤压状态后，捕捉价格回归条件均值的概率性修复。",
      "user_initial_direction": "基于波动率自相关的动态置信区间均值回归：利用GARCH模型预测短期波动率，将传统的固定标准差布林带替换为动态波动率调整带，在市场进入低波动挤压状态后，捕捉价格回归条件均值的概率性修复。",
      "planning_direction": "基于波动率自相关的动态置信区间均值回归：利用GARCH模型预测短期波动率，将传统的固定标准差布林带替换为动态波动率调整带，在市场进入低波动挤压状态后，捕捉价格回归条件均值的概率性修复。",
      "evolution_phase": "original",
      "trajectory_id": "",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0061047381585373,
        "ICIR": 0.0403601737965465,
        "RankIC": 0.0232142943094437,
        "RankICIR": 0.1586538241658718,
        "annualized_return": 0.0825136238831514,
        "information_ratio": 1.0549314908771068,
        "max_drawdown": -0.1230675131067335
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T19:54:11.342759",
      "updated_at": "2026-01-15T19:54:11.342766"
    },
    "ed68473868d60341": {
      "factor_id": "ed68473868d60341",
      "factor_name": "Dynamic_ZScore_Volatility_Ratio_Factor",
      "factor_expression": "($close - TS_MEAN($close, 20)) / (TS_STD($close, 20) + 1e-8) * (TS_STD($return, 5) < TS_MEAN(TS_STD($return, 5), 20) ? 1.0 : 0.5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"($close - TS_MEAN($close, 20)) / (TS_STD($close, 20) + 1e-8) * (TS_STD($return, 5) < TS_MEAN(TS_STD($return, 5), 20) ? 1.0 : 0.5)\" # Your output factor expression will be filled in here\n    name = \"Dynamic_ZScore_Volatility_Ratio_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures price outliers relative to current risk levels. It computes the price z-score against its 20-day mean and scales it based on whether the 5-day volatility is compressed relative to the 20-day volatility. A high absolute value suggests a significant price deviation during a period of volatility compression, signaling a potential mean-reverting correction.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: A factor calculated as the z-score of the current price relative to its 20-day moving average, normalized by a 20-day rolling standard deviation of returns, will exhibit stronger mean-reversion properties when the current 5-day volatility is lower than its 20-day average volatility.\n                Concise Observation: Fixed-width technical indicators like standard Bollinger Bands fail to account for the clustering and autocorrelation of volatility, often leading to false signals during regime shifts from high to low volatility.\n                Concise Justification: Volatility clustering suggests that low volatility periods (squeezes) are often followed by sharp mean-reverting or trend-initiating moves; by normalizing price deviation by dynamic volatility, we isolate 'true' statistical outliers relative to current risk levels.\n                Concise Knowledge: If asset prices deviate significantly from their moving average during periods of volatility compression, then the probability of a mean-reverting price correction increases as the market transitions out of the low-volatility state.\n                concise Specification: Define the factor as (Close - MA(Close, 20)) / Std(Return, 20), specifically filtered or weighted by the ratio of Short_Vol(5-day) to Long_Vol(20-day) to capture the 'squeeze' effect.\n                ",
      "initial_direction": "基于波动率自相关的动态置信区间均值回归：利用GARCH模型预测短期波动率，将传统的固定标准差布林带替换为动态波动率调整带，在市场进入低波动挤压状态后，捕捉价格回归条件均值的概率性修复。",
      "user_initial_direction": "基于波动率自相关的动态置信区间均值回归：利用GARCH模型预测短期波动率，将传统的固定标准差布林带替换为动态波动率调整带，在市场进入低波动挤压状态后，捕捉价格回归条件均值的概率性修复。",
      "planning_direction": "基于波动率自相关的动态置信区间均值回归：利用GARCH模型预测短期波动率，将传统的固定标准差布林带替换为动态波动率调整带，在市场进入低波动挤压状态后，捕捉价格回归条件均值的概率性修复。",
      "evolution_phase": "original",
      "trajectory_id": "",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0061047381585373,
        "ICIR": 0.0403601737965465,
        "RankIC": 0.0232142943094437,
        "RankICIR": 0.1586538241658718,
        "annualized_return": 0.0825136238831514,
        "information_ratio": 1.0549314908771068,
        "max_drawdown": -0.1230675131067335
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T19:54:11.355500",
      "updated_at": "2026-01-15T19:54:11.355506"
    },
    "687450492c7d18c3": {
      "factor_id": "687450492c7d18c3",
      "factor_name": "Cross_Sectional_Squeeze_Outlier_20D",
      "factor_expression": "RANK(($close - TS_MEAN($close, 20)) / (TS_STD($return, 20) + 1e-8)) * (TS_STD($return, 5) / (TS_STD($return, 20) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($close - TS_MEAN($close, 20)) / (TS_STD($return, 20) + 1e-8)) * (TS_STD($return, 5) < TS_STD($return, 20))\" # Your output factor expression will be filled in here\n    name = \"Cross_Sectional_Squeeze_Outlier_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor ranks the price-to-moving-average deviation normalized by return volatility, but only for stocks currently experiencing a 'volatility squeeze' (5-day volatility < 20-day volatility). This helps isolate stocks with the highest probability of mean reversion across the market.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: A factor calculated as the z-score of the current price relative to its 20-day moving average, normalized by a 20-day rolling standard deviation of returns, will exhibit stronger mean-reversion properties when the current 5-day volatility is lower than its 20-day average volatility.\n                Concise Observation: Fixed-width technical indicators like standard Bollinger Bands fail to account for the clustering and autocorrelation of volatility, often leading to false signals during regime shifts from high to low volatility.\n                Concise Justification: Volatility clustering suggests that low volatility periods (squeezes) are often followed by sharp mean-reverting or trend-initiating moves; by normalizing price deviation by dynamic volatility, we isolate 'true' statistical outliers relative to current risk levels.\n                Concise Knowledge: If asset prices deviate significantly from their moving average during periods of volatility compression, then the probability of a mean-reverting price correction increases as the market transitions out of the low-volatility state.\n                concise Specification: Define the factor as (Close - MA(Close, 20)) / Std(Return, 20), specifically filtered or weighted by the ratio of Short_Vol(5-day) to Long_Vol(20-day) to capture the 'squeeze' effect.\n                ",
      "initial_direction": "基于波动率自相关的动态置信区间均值回归：利用GARCH模型预测短期波动率，将传统的固定标准差布林带替换为动态波动率调整带，在市场进入低波动挤压状态后，捕捉价格回归条件均值的概率性修复。",
      "user_initial_direction": "基于波动率自相关的动态置信区间均值回归：利用GARCH模型预测短期波动率，将传统的固定标准差布林带替换为动态波动率调整带，在市场进入低波动挤压状态后，捕捉价格回归条件均值的概率性修复。",
      "planning_direction": "基于波动率自相关的动态置信区间均值回归：利用GARCH模型预测短期波动率，将传统的固定标准差布林带替换为动态波动率调整带，在市场进入低波动挤压状态后，捕捉价格回归条件均值的概率性修复。",
      "evolution_phase": "original",
      "trajectory_id": "",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0061047381585373,
        "ICIR": 0.0403601737965465,
        "RankIC": 0.0232142943094437,
        "RankICIR": 0.1586538241658718,
        "annualized_return": 0.0825136238831514,
        "information_ratio": 1.0549314908771068,
        "max_drawdown": -0.1230675131067335
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T19:54:11.364587",
      "updated_at": "2026-01-15T19:54:11.364593"
    },
    "d61babdc83a25a13": {
      "factor_id": "d61babdc83a25a13",
      "factor_name": "Amihud_Momentum_Interaction_10D",
      "factor_expression": "TS_MEAN(($high - $low) / ($volume + 1e-8), 10) * TS_PCTCHANGE($close, 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(($high - $low) / ($volume + 1e-8), 10) * TS_PCTCHANGE($close, 5)\" # Your output factor expression will be filled in here\n    name = \"Amihud_Momentum_Interaction_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures short-term mean-reversion opportunities by identifying stocks with high price exhaustion. It multiplies the 10-day moving average of the Amihud illiquidity ratio (High-Low range / Volume) with the 5-day price momentum. High values suggest price moves driven by liquidity gaps rather than fundamentals, which are likely to reverse.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 10-day moving average of the ratio between daily high-low price range and volume (illiquidity proxy) combined with the 5-day price momentum identifies short-term mean-reversion opportunities caused by liquidity-driven price exhaustion.\n                Concise Observation: In daily price-volume data, extreme price movements often occur with disproportionately low volume, suggesting that the price discovery process is noisy and prone to overshooting in the absence of deep liquidity.\n                Concise Justification: The Amihud illiquidity ratio (High-Low range / Volume) captures the price impact of trading; high values indicate 'thin' markets where small trades move prices significantly, creating transitory price shocks that are statistically likely to mean-revert.\n                Concise Knowledge: If a stock experiences high price volatility on low relative volume, the price move is likely driven by liquidity gaps rather than fundamental shifts; when such illiquidity coincides with extreme short-term returns, a price reversal is expected as liquidity returns to the market.\n                concise Specification: Calculate the ratio of ($high - $low) to $volume as a daily illiquidity measure; define the factor as the 10-day simple moving average of this ratio multiplied by the 5-day cumulative return to capture the interaction between illiquidity and price trend.\n                ",
      "initial_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "user_initial_direction": "均值回归test3",
      "planning_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "evolution_phase": "original",
      "trajectory_id": "3978712eb575",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.000931362903187,
        "ICIR": 0.0060678875340603,
        "RankIC": 0.0129199155740874,
        "RankICIR": 0.0827167575975825,
        "annualized_return": 0.0197667402350589,
        "information_ratio": 0.2260536698445352,
        "max_drawdown": -0.267549976662951
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T20:01:53.369482",
      "updated_at": "2026-01-15T20:01:53.369490"
    },
    "7df879b89911aca3": {
      "factor_id": "7df879b89911aca3",
      "factor_name": "Ranked_Illiquidity_Exhaustion_Factor",
      "factor_expression": "RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 10)) * RANK(TS_SUM($return, 5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 10)) * RANK(TS_SUM($return, 5))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Illiquidity_Exhaustion_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor normalizes the illiquidity-momentum interaction cross-sectionally. By ranking the 10-day average illiquidity and the 5-day price change independently before multiplication, it identifies relative liquidity-driven overextensions across the market, reducing the impact of extreme outliers in volume data.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 10-day moving average of the ratio between daily high-low price range and volume (illiquidity proxy) combined with the 5-day price momentum identifies short-term mean-reversion opportunities caused by liquidity-driven price exhaustion.\n                Concise Observation: In daily price-volume data, extreme price movements often occur with disproportionately low volume, suggesting that the price discovery process is noisy and prone to overshooting in the absence of deep liquidity.\n                Concise Justification: The Amihud illiquidity ratio (High-Low range / Volume) captures the price impact of trading; high values indicate 'thin' markets where small trades move prices significantly, creating transitory price shocks that are statistically likely to mean-revert.\n                Concise Knowledge: If a stock experiences high price volatility on low relative volume, the price move is likely driven by liquidity gaps rather than fundamental shifts; when such illiquidity coincides with extreme short-term returns, a price reversal is expected as liquidity returns to the market.\n                concise Specification: Calculate the ratio of ($high - $low) to $volume as a daily illiquidity measure; define the factor as the 10-day simple moving average of this ratio multiplied by the 5-day cumulative return to capture the interaction between illiquidity and price trend.\n                ",
      "initial_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "user_initial_direction": "均值回归test3",
      "planning_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "evolution_phase": "original",
      "trajectory_id": "3978712eb575",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.000931362903187,
        "ICIR": 0.0060678875340603,
        "RankIC": 0.0129199155740874,
        "RankICIR": 0.0827167575975825,
        "annualized_return": 0.0197667402350589,
        "information_ratio": 0.2260536698445352,
        "max_drawdown": -0.267549976662951
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T20:01:53.378509",
      "updated_at": "2026-01-15T20:01:53.378515"
    },
    "49987e85ff22fdb5": {
      "factor_id": "49987e85ff22fdb5",
      "factor_name": "ZScored_Amihud_Reversion_5D",
      "factor_expression": "TS_ZSCORE(($high - $low) / ($volume + 1e-8), 10) * TS_PCTCHANGE($close, 5)",
      "factor_implementation_code": "",
      "factor_description": "This factor uses the Z-score of the illiquidity-to-volume ratio to identify statistically significant liquidity shocks. It interacts this standardized illiquidity measure with the 5-day price trend to pinpoint mean-reversion candidates where price movement is disproportionate to the historical liquidity profile.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 10-day moving average of the ratio between daily high-low price range and volume (illiquidity proxy) combined with the 5-day price momentum identifies short-term mean-reversion opportunities caused by liquidity-driven price exhaustion.\n                Concise Observation: In daily price-volume data, extreme price movements often occur with disproportionately low volume, suggesting that the price discovery process is noisy and prone to overshooting in the absence of deep liquidity.\n                Concise Justification: The Amihud illiquidity ratio (High-Low range / Volume) captures the price impact of trading; high values indicate 'thin' markets where small trades move prices significantly, creating transitory price shocks that are statistically likely to mean-revert.\n                Concise Knowledge: If a stock experiences high price volatility on low relative volume, the price move is likely driven by liquidity gaps rather than fundamental shifts; when such illiquidity coincides with extreme short-term returns, a price reversal is expected as liquidity returns to the market.\n                concise Specification: Calculate the ratio of ($high - $low) to $volume as a daily illiquidity measure; define the factor as the 10-day simple moving average of this ratio multiplied by the 5-day cumulative return to capture the interaction between illiquidity and price trend.\n                ",
      "initial_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "user_initial_direction": "均值回归test3",
      "planning_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "evolution_phase": "original",
      "trajectory_id": "3978712eb575",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.000931362903187,
        "ICIR": 0.0060678875340603,
        "RankIC": 0.0129199155740874,
        "RankICIR": 0.0827167575975825,
        "annualized_return": 0.0197667402350589,
        "information_ratio": 0.2260536698445352,
        "max_drawdown": -0.267549976662951
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T20:01:53.388467",
      "updated_at": "2026-01-15T20:01:53.388473"
    },
    "1a6b84d55a449e6a": {
      "factor_id": "1a6b84d55a449e6a",
      "factor_name": "Price_Volume_Volatility_Skew_10D",
      "factor_expression": "RANK(-1 * (TS_STD($return, 10) / (TS_STD(TS_PCTCHANGE($volume, 1), 10) + 1e-8)) * ($volume > TS_MEAN($volume, 20)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(-1 * (TS_STD($return, 10) / (TS_STD(TS_PCTCHANGE($volume, 1), 10) + 1e-8)) * ($volume > TS_MEAN($volume, 20)))\" # Your output factor expression will be filled in here\n    name = \"Price_Volume_Volatility_Skew_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor calculates the ratio of the 10-day standard deviation of daily returns to the 10-day standard deviation of volume percentage changes. It is then conditioned by a 20-day volume trend filter. A high ratio during high-volume periods suggests fragile price discovery and potential reversal.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 10-day Price-Volume Volatility Skew, defined as the ratio of the 10-day standard deviation of daily returns to the 10-day standard deviation of volume changes, negatively predicts short-term returns when the current volume is significantly higher than its 20-day moving average.\n                Concise Observation: Daily price and volume data exhibit heteroskedasticity where extreme return outliers often precede reversals if the volume growth does not sustain the price momentum.\n                Concise Justification: Market microstructure theory suggests that price efficiency is linked to liquidity; a high ratio of price volatility to volume volatility indicates 'fragile' price discovery susceptible to correction.\n                Concise Knowledge: If price volatility increases without a proportional increase in volume stability, the price movement is likely driven by noise; when high volume confirms price dispersion, mean reversion is more probable.\n                concise Specification: Calculate the ratio of the rolling 10-day standard deviation of $return to the rolling 10-day standard deviation of the daily change in $volume, then interact this with a 20-day volume trend filter.\n                ",
      "initial_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "user_initial_direction": "均值回归test3",
      "planning_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "evolution_phase": "original",
      "trajectory_id": "0f4c5c04860f",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0031926646277224,
        "ICIR": 0.0261026380196433,
        "RankIC": 0.0179831133597679,
        "RankICIR": 0.1424540679517532,
        "annualized_return": 0.0624632394882344,
        "information_ratio": 1.0196630378416056,
        "max_drawdown": -0.0734838101443044
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T20:06:51.796836",
      "updated_at": "2026-01-15T20:06:51.796843"
    },
    "b3d50803e78f405a": {
      "factor_id": "b3d50803e78f405a",
      "factor_name": "Fragile_Momentum_Reversal_Factor",
      "factor_expression": "ZSCORE(-1 * (TS_STD($return, 10) / (TS_STD(DELTA($volume, 1) / ($volume + 1e-8), 10) + 1e-8))) * ($volume > SMA($volume, 20, 1))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(-1 * (TS_STD($return, 10) / (TS_STD(TS_PCTCHANGE($volume, 1), 10) + 1e-8))) * ($volume > SMA($volume, 20, 1))\" # Your output factor expression will be filled in here\n    name = \"Fragile_Momentum_Reversal_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies 'fragile' price movements by measuring the dispersion of returns relative to the dispersion of volume growth over 10 days. It focuses on periods where current volume exceeds its 20-day average, indicating that extreme price volatility without stable volume growth leads to mean reversion.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 10-day Price-Volume Volatility Skew, defined as the ratio of the 10-day standard deviation of daily returns to the 10-day standard deviation of volume changes, negatively predicts short-term returns when the current volume is significantly higher than its 20-day moving average.\n                Concise Observation: Daily price and volume data exhibit heteroskedasticity where extreme return outliers often precede reversals if the volume growth does not sustain the price momentum.\n                Concise Justification: Market microstructure theory suggests that price efficiency is linked to liquidity; a high ratio of price volatility to volume volatility indicates 'fragile' price discovery susceptible to correction.\n                Concise Knowledge: If price volatility increases without a proportional increase in volume stability, the price movement is likely driven by noise; when high volume confirms price dispersion, mean reversion is more probable.\n                concise Specification: Calculate the ratio of the rolling 10-day standard deviation of $return to the rolling 10-day standard deviation of the daily change in $volume, then interact this with a 20-day volume trend filter.\n                ",
      "initial_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "user_initial_direction": "均值回归test3",
      "planning_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "evolution_phase": "original",
      "trajectory_id": "0f4c5c04860f",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0031926646277224,
        "ICIR": 0.0261026380196433,
        "RankIC": 0.0179831133597679,
        "RankICIR": 0.1424540679517532,
        "annualized_return": 0.0624632394882344,
        "information_ratio": 1.0196630378416056,
        "max_drawdown": -0.0734838101443044
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T20:06:51.805978",
      "updated_at": "2026-01-15T20:06:51.805984"
    },
    "be3e18d094396a0f": {
      "factor_id": "be3e18d094396a0f",
      "factor_name": "Volume_Conditioned_Volatility_Ratio",
      "factor_expression": "RANK(-1 * (TS_STD($return, 10) / (TS_STD(TS_PCTCHANGE($volume, 1), 10) + 1e-8))) * (TS_RANK($volume, 20) > 16)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(-1 * (TS_STD($return, 10) / (TS_STD(TS_PCTCHANGE($volume, 1), 10) + 1e-8))) * (TS_RANK($volume, 20) > 16)\" # Your output factor expression will be filled in here\n    name = \"Volume_Conditioned_Volatility_Ratio\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the price-volume volatility skew hypothesis. It calculates the ratio of price return volatility to volume volatility over a 10-day window, multiplied by a binary indicator of whether current volume is in its top 20-day quintile to filter for high-activity reversals.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 10-day Price-Volume Volatility Skew, defined as the ratio of the 10-day standard deviation of daily returns to the 10-day standard deviation of volume changes, negatively predicts short-term returns when the current volume is significantly higher than its 20-day moving average.\n                Concise Observation: Daily price and volume data exhibit heteroskedasticity where extreme return outliers often precede reversals if the volume growth does not sustain the price momentum.\n                Concise Justification: Market microstructure theory suggests that price efficiency is linked to liquidity; a high ratio of price volatility to volume volatility indicates 'fragile' price discovery susceptible to correction.\n                Concise Knowledge: If price volatility increases without a proportional increase in volume stability, the price movement is likely driven by noise; when high volume confirms price dispersion, mean reversion is more probable.\n                concise Specification: Calculate the ratio of the rolling 10-day standard deviation of $return to the rolling 10-day standard deviation of the daily change in $volume, then interact this with a 20-day volume trend filter.\n                ",
      "initial_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "user_initial_direction": "均值回归test3",
      "planning_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "evolution_phase": "original",
      "trajectory_id": "0f4c5c04860f",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0031926646277224,
        "ICIR": 0.0261026380196433,
        "RankIC": 0.0179831133597679,
        "RankICIR": 0.1424540679517532,
        "annualized_return": 0.0624632394882344,
        "information_ratio": 1.0196630378416056,
        "max_drawdown": -0.0734838101443044
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T20:06:51.815047",
      "updated_at": "2026-01-15T20:06:51.815053"
    },
    "41ac82e8f1a1db49": {
      "factor_id": "41ac82e8f1a1db49",
      "factor_name": "Volume_Surge_Reversal_5D",
      "factor_expression": "-1 * TS_SUM($return, 5) * ($volume / (TS_MEAN($volume, 20) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"-1 * TS_SUM($return, 5) * ($volume / (TS_MEAN($volume, 20) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Volume_Surge_Reversal_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies potential price reversals by multiplying the negative 5-day return by the ratio of current volume to its 20-day moving average. A high volume surge during a price trend often signals exhaustion, and this factor captures the mean-reversion potential following such events.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: A price reversal factor can be constructed by identifying instances where the 5-day volume-weighted price change is inversely related to the relative change in daily trading volume, specifically when the current volume is significantly higher than its 20-day moving average.\n                Concise Observation: Daily price and volume data often exhibit 'blow-off tops' or 'selling climaxes' where extreme volume spikes coincide with price trend exhaustion before a reversal.\n                Concise Justification: High volume at price extremes often represents a transfer of liquidity from 'weak hands' to 'strong hands,' leading to a temporary supply-demand imbalance that the market corrects through price reversion.\n                Concise Knowledge: If trading volume surges while price movement stalls or reverses, it indicates a potential exhaustion of the current trend; when volume-weighted returns deviate from simple returns, it suggests institutional positioning that may precede a mean reversion.\n                concise Specification: The factor is defined as the negative 5-day return weighted by the ratio of current volume to its 20-day moving average, applied to daily adjusted price and volume data.\n                ",
      "initial_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "user_initial_direction": "均值回归test3",
      "planning_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "evolution_phase": "original",
      "trajectory_id": "e3874e4ffc5a",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0023376670772704,
        "ICIR": 0.0191113198918618,
        "RankIC": 0.0147276664742712,
        "RankICIR": 0.1202679085514754,
        "annualized_return": 0.0272358351883886,
        "information_ratio": 0.4376122551706318,
        "max_drawdown": -0.1031767849686496
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T20:09:22.293181",
      "updated_at": "2026-01-15T20:09:22.293188"
    },
    "0a892e250513aa1d": {
      "factor_id": "0a892e250513aa1d",
      "factor_name": "VW_Exhaustion_Index_5D",
      "factor_expression": "-1 * TS_PCTCHANGE($close, 5) * TS_ZSCORE($volume, 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"-1 * TS_PCTCHANGE($close, 5) * TS_ZSCORE($volume, 20)\" # Your output factor expression will be filled in here\n    name = \"VW_Exhaustion_Index_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures price exhaustion by calculating the negative 5-day price change relative to the volume intensity. It uses the Z-score of volume to identify 'blow-off' conditions where extreme volume accompanies a price move that is likely to reverse.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: A price reversal factor can be constructed by identifying instances where the 5-day volume-weighted price change is inversely related to the relative change in daily trading volume, specifically when the current volume is significantly higher than its 20-day moving average.\n                Concise Observation: Daily price and volume data often exhibit 'blow-off tops' or 'selling climaxes' where extreme volume spikes coincide with price trend exhaustion before a reversal.\n                Concise Justification: High volume at price extremes often represents a transfer of liquidity from 'weak hands' to 'strong hands,' leading to a temporary supply-demand imbalance that the market corrects through price reversion.\n                Concise Knowledge: If trading volume surges while price movement stalls or reverses, it indicates a potential exhaustion of the current trend; when volume-weighted returns deviate from simple returns, it suggests institutional positioning that may precede a mean reversion.\n                concise Specification: The factor is defined as the negative 5-day return weighted by the ratio of current volume to its 20-day moving average, applied to daily adjusted price and volume data.\n                ",
      "initial_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "user_initial_direction": "均值回归test3",
      "planning_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "evolution_phase": "original",
      "trajectory_id": "e3874e4ffc5a",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0023376670772704,
        "ICIR": 0.0191113198918618,
        "RankIC": 0.0147276664742712,
        "RankICIR": 0.1202679085514754,
        "annualized_return": 0.0272358351883886,
        "information_ratio": 0.4376122551706318,
        "max_drawdown": -0.1031767849686496
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T20:09:22.302428",
      "updated_at": "2026-01-15T20:09:22.302434"
    },
    "908909bc18b9091a": {
      "factor_id": "908909bc18b9091a",
      "factor_name": "Relative_Volume_Climax_Rank",
      "factor_expression": "RANK(-1 * TS_MEAN($return, 5) * TS_RANK($volume, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(-1 * TS_MEAN($return, 5) * TS_RANK($volume, 20))\" # Your output factor expression will be filled in here\n    name = \"Relative_Volume_Climax_Rank\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Captures selling climaxes or buying tops by identifying days where the volume is at a time-series high relative to the last 20 days, and the price change over the last 5 days is negative (for a rebound) or positive (for a pullback). The result is cross-sectionally ranked for stability.",
      "experiment_id": "unknown",
      "round_number": 1,
      "hypothesis": "Hypothesis: A price reversal factor can be constructed by identifying instances where the 5-day volume-weighted price change is inversely related to the relative change in daily trading volume, specifically when the current volume is significantly higher than its 20-day moving average.\n                Concise Observation: Daily price and volume data often exhibit 'blow-off tops' or 'selling climaxes' where extreme volume spikes coincide with price trend exhaustion before a reversal.\n                Concise Justification: High volume at price extremes often represents a transfer of liquidity from 'weak hands' to 'strong hands,' leading to a temporary supply-demand imbalance that the market corrects through price reversion.\n                Concise Knowledge: If trading volume surges while price movement stalls or reverses, it indicates a potential exhaustion of the current trend; when volume-weighted returns deviate from simple returns, it suggests institutional positioning that may precede a mean reversion.\n                concise Specification: The factor is defined as the negative 5-day return weighted by the ratio of current volume to its 20-day moving average, applied to daily adjusted price and volume data.\n                ",
      "initial_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "user_initial_direction": "均值回归test3",
      "planning_direction": "基于订单流失衡（Order Flow Imbalance）与微观结构噪声的超高频均值回归：利用逐笔成交数据计算买卖压力失衡比率，当该指标偏离历史分布的2个标准差且伴随买卖价差收窄时，捕捉极短周期内的价格修正机会。",
      "evolution_phase": "original",
      "trajectory_id": "e3874e4ffc5a",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0023376670772704,
        "ICIR": 0.0191113198918618,
        "RankIC": 0.0147276664742712,
        "RankICIR": 0.1202679085514754,
        "annualized_return": 0.0272358351883886,
        "information_ratio": 0.4376122551706318,
        "max_drawdown": -0.1031767849686496
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-15T20:09:22.311681",
      "updated_at": "2026-01-15T20:09:22.311687"
    }
  }
}